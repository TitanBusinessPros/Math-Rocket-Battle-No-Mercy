<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Math Rocket Battle</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background: linear-gradient(to bottom, #1a2980, #26d0ce);
            color: white;
            min-height: 100vh;
            overflow-x: hidden;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
        }

        header {
            text-align: center;
            margin-bottom: 20px;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
            color: #FFD700;
        }

        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }

        .game-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
        }

        .player-info {
            text-align: center;
            flex: 1;
            padding: 10px;
            border-radius: 8px;
            transition: all 0.3s;
        }

        .player1-info {
            background: rgba(0, 100, 255, 0.3);
            border: 2px solid rgba(0, 100, 255, 0.7);
        }

        .player2-info {
            background: rgba(255, 0, 100, 0.3);
            border: 2px solid rgba(255, 0, 100, 0.7);
        }

        .active-player {
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.7);
        }

        .player-name {
            font-size: 1.5rem;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .rockets-count {
            font-size: 1.2rem;
            color: #ffcc00;
            font-weight: bold;
        }

        .game-area {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            position: relative;
            height: 500px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 15px;
            padding: 20px;
            box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .player-area {
            width: 45%;
            height: 100%;
            position: relative;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        }

        .player1-area {
            background: linear-gradient(to bottom, rgba(0, 100, 255, 0.2), rgba(0, 100, 255, 0.4));
            border: 2px solid rgba(0, 100, 255, 0.7);
        }

        .player2-area {
            background: linear-gradient(to bottom, rgba(255, 0, 100, 0.2), rgba(255, 0, 100, 0.4));
            border: 2px solid rgba(255, 0, 100, 0.7);
        }

        .base, .monster, .zombie {
            position: absolute;
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            transition: all 0.3s;
        }

        .base {
            width: 100px;
            height: 100px;
            bottom: 20px;
        }

        .player1-base {
            left: 50px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect x="20" y="40" width="60" height="40" fill="%230070C0" stroke="%23005090" stroke-width="2"/><rect x="30" y="20" width="40" height="20" fill="%230070C0" stroke="%23005090" stroke-width="2"/><rect x="40" y="60" width="20" height="20" fill="%23005090"/></svg>');
        }

        .player2-base {
            right: 50px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><rect x="20" y="40" width="60" height="40" fill="%23C00070" stroke="%23900050" stroke-width="2"/><rect x="30" y="20" width="40" height="20" fill="%23C00070" stroke="%23900050" stroke-width="2"/><rect x="40" y="60" width="20" height="20" fill="%23900050"/></svg>');
        }

        .monster {
            width: 80px;
            height: 80px;
            bottom: 130px;
        }

        .player1-monster1 { left: 40px; }
        .player1-monster2 { left: 140px; }
        .player1-monster3 { left: 240px; }

        .player2-monster1 { right: 40px; }
        .player2-monster2 { right: 140px; }
        .player2-monster3 { right: 240px; }

        .zombie {
            width: 60px;
            height: 60px;
            bottom: 220px;
        }

        .player1-zombie1 { left: 20px; }
        .player1-zombie2 { left: 90px; }
        .player1-zombie3 { left: 160px; }
        .player1-zombie4 { left: 230px; }
        .player1-zombie5 { left: 300px; }
        .player1-zombie6 { left: 370px; }
        .player1-zombie7 { left: 440px; }

        .player2-zombie1 { right: 20px; }
        .player2-zombie2 { right: 90px; }
        .player2-zombie3 { right: 160px; }
        .player2-zombie4 { right: 230px; }
        .player2-zombie5 { right: 300px; }
        .player2-zombie6 { right: 370px; }
        .player2-zombie7 { right: 440px; }

        .rocket {
            position: absolute;
            width: 20px;
            height: 40px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 40"><polygon points="10,0 0,40 20,40" fill="%23FF9900"/><rect x="8" y="10" width="4" height="25" fill="%23FFCC00"/></svg>');
            background-size: contain;
            background-repeat: no-repeat;
            z-index: 10;
            display: none;
        }

        .question-area {
            background: rgba(0, 0, 0, 0.5);
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        }

        .question-text {
            font-size: 1.5rem;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .timer {
            font-size: 1.2rem;
            margin-bottom: 15px;
            color: #ffcc00;
            font-weight: bold;
        }

        .answer-options {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        .answer-btn {
            background: #4a90e2;
            border: none;
            color: white;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2);
            min-width: 80px;
        }

        .answer-btn:hover {
            background: #3a80d2;
            transform: translateY(-2px);
            box-shadow: 0 5px 8px rgba(0, 0, 0, 0.3);
        }

        .answer-btn.correct {
            background: #4CAF50;
        }

        .answer-btn.incorrect {
            background: #F44336;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }

        button {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            box-shadow: 0 3px 5px rgba(0, 0, 0, 0.2);
        }

        .fire-btn {
            background: linear-gradient(to bottom, #ff5722, #e64a19);
            color: white;
        }

        .fire-btn:hover:not(:disabled) {
            background: linear-gradient(to bottom, #e64a19, #d84315);
            transform: translateY(-2px);
            box-shadow: 0 5px 8px rgba(0, 0, 0, 0.3);
        }

        .fire-btn:disabled {
            background: #777;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .new-game-btn {
            background: linear-gradient(to bottom, #4caf50, #45a049);
            color: white;
        }

        .new-game-btn:hover {
            background: linear-gradient(to bottom, #45a049, #3d8b40);
            transform: translateY(-2px);
            box-shadow: 0 5px 8px rgba(0, 0, 0, 0.3);
        }

        .game-over {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 100;
            display: none;
        }

        .game-over-message {
            font-size: 3rem;
            margin-bottom: 30px;
            text-align: center;
            text-shadow: 0 0 10px rgba(255, 255, 255, 0.5);
            color: #FFD700;
        }

        .explosion {
            position: absolute;
            width: 80px;
            height: 80px;
            background: radial-gradient(circle, #ff9900, #ff0000);
            border-radius: 50%;
            opacity: 0;
            pointer-events: none;
            z-index: 5;
        }

        @keyframes explode {
            0% { transform: scale(0); opacity: 1; }
            100% { transform: scale(2); opacity: 0; }
        }

        .instructions {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 10px;
            margin-top: 20px;
            font-size: 0.9rem;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
        }

        .instructions h3 {
            margin-bottom: 10px;
            color: #FFD700;
        }

        .instructions p {
            margin-bottom: 5px;
        }

        .turn-message {
            text-align: center;
            margin: 10px 0;
            font-size: 1.2rem;
            font-weight: bold;
            color: #FFD700;
            min-height: 30px;
        }

        @media (max-width: 768px) {
            .game-area {
                flex-direction: column;
                height: auto;
            }
            
            .player-area {
                width: 100%;
                height: 200px;
                margin-bottom: 20px;
            }
            
            .answer-options {
                flex-direction: column;
                align-items: center;
            }
            
            .answer-btn {
                width: 80%;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Math Rocket Battle No Mercy</h1>
            <p class="subtitle">Answer math questions to earn rockets and destroy your opponent's base!</p>
        </header>

        <div class="game-info">
            <div class="player-info player1-info" id="player1-info">
                <div class="player-name">Player 1</div>
                <div class="rockets-count">Rockets: <span id="player1-rockets">0</span></div>
            </div>
            <div class="player-info player2-info" id="player2-info">
                <div class="player-name">Player 2</div>
                <div class="rockets-count">Rockets: <span id="player2-rockets">0</span></div>
            </div>
        </div>

        <div class="turn-message" id="turn-message">Player 1's Turn</div>

        <div class="game-area">
            <div class="player-area player1-area">
                <div class="base player1-base" id="player1-base"></div>
                <!-- Monsters -->
                <div class="monster player1-monster1" id="player1-monster1"></div>
                <div class="monster player1-monster2" id="player1-monster2"></div>
                <div class="monster player1-monster3" id="player1-monster3"></div>
                <!-- Zombies -->
                <div class="zombie player1-zombie1" id="player1-zombie1"></div>
                <div class="zombie player1-zombie2" id="player1-zombie2"></div>
                <div class="zombie player1-zombie3" id="player1-zombie3"></div>
                <div class="zombie player1-zombie4" id="player1-zombie4"></div>
                <div class="zombie player1-zombie5" id="player1-zombie5"></div>
                <div class="zombie player1-zombie6" id="player1-zombie6"></div>
                <div class="zombie player1-zombie7" id="player1-zombie7"></div>
            </div>
            <div class="player-area player2-area">
                <div class="base player2-base" id="player2-base"></div>
                <!-- Monsters -->
                <div class="monster player2-monster1" id="player2-monster1"></div>
                <div class="monster player2-monster2" id="player2-monster2"></div>
                <div class="monster player2-monster3" id="player2-monster3"></div>
                <!-- Zombies -->
                <div class="zombie player2-zombie1" id="player2-zombie1"></div>
                <div class="zombie player2-zombie2" id="player2-zombie2"></div>
                <div class="zombie player2-zombie3" id="player2-zombie3"></div>
                <div class="zombie player2-zombie4" id="player2-zombie4"></div>
                <div class="zombie player2-zombie5" id="player2-zombie5"></div>
                <div class="zombie player2-zombie6" id="player2-zombie6"></div>
                <div class="zombie player2-zombie7" id="player2-zombie7"></div>
            </div>
            <div class="rocket" id="rocket"></div>
        </div>

        <div class="question-area">
            <div class="question-text" id="question-text">Solve the math problem to earn a rocket!</div>
            <div class="timer" id="timer">Time left: 15 seconds</div>
            <div class="answer-options" id="answer-options">
                <!-- Answer buttons will be generated here -->
            </div>
            <div class="controls">
                <button class="fire-btn" id="fire-btn" disabled>Launch Rocket!</button>
                <button class="new-game-btn" id="new-game-btn">New Game</button>
            </div>
        </div>

        <div class="instructions">
            <h3>How to Play:</h3>
            <p>1. Answer math questions correctly to earn rockets (15 seconds per question)</p>
            <p>2. Click "Launch Rocket!" and then click where you want to aim in the opponent's area</p>
            <p>3. If you answer incorrectly or run out of time, you lose your turn</p>
            <p>4. Destroy all of your opponent's base, monsters, and zombies to win! Math made fun by Titan Business Pros LLC</p>
        </div>

        <div class="game-over" id="game-over">
            <div class="game-over-message" id="game-over-message"></div>
            <button class="new-game-btn" id="restart-btn">Play Again</button>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Game state
            const gameState = {
                currentPlayer: 1,
                player1: {
                    rockets: 0,
                    base: true,
                    monsters: [true, true, true],
                    zombies: [true, true, true, true, true, true, true]
                },
                player2: {
                    rockets: 0,
                    base: true,
                    monsters: [true, true, true],
                    zombies: [true, true, true, true, true, true, true]
                },
                gameActive: true,
                canFire: false,
                timer: null,
                timeLeft: 15
            };

            // DOM elements
            const questionText = document.getElementById('question-text');
            const answerOptions = document.getElementById('answer-options');
            const fireBtn = document.getElementById('fire-btn');
            const newGameBtn = document.getElementById('new-game-btn');
            const restartBtn = document.getElementById('restart-btn');
            const gameOver = document.getElementById('game-over');
            const gameOverMessage = document.getElementById('game-over-message');
            const rocket = document.getElementById('rocket');
            const player1Rockets = document.getElementById('player1-rockets');
            const player2Rockets = document.getElementById('player2-rockets');
            const player1Info = document.getElementById('player1-info');
            const player2Info = document.getElementById('player2-info');
            const turnMessage = document.getElementById('turn-message');
            const timerDisplay = document.getElementById('timer');

            // Unique monster and zombie SVG designs
            const monsterDesigns = [
                // Monster 1 - Green blob with one eye
                '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="40" fill="%2333AA33" stroke="%23228822" stroke-width="2"/><circle cx="50" cy="40" r="15" fill="black"/><circle cx="50" cy="40" r="7" fill="white"/><path d="M 30 65 Q 50 80 70 65" stroke="black" stroke-width="3" fill="none"/></svg>',
                
                // Monster 2 - Purple spikey
                '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><path d="M50 10 L80 40 L70 80 L30 80 L20 40 Z" fill="%239933CC" stroke="%227722AA" stroke-width="2"/><circle cx="40" cy="45" r="8" fill="black"/><circle cx="60" cy="45" r="8" fill="black"/><rect x="45" y="60" width="10" height="5" fill="black"/></svg>',
                
                // Monster 3 - Blue cyclops
                '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><ellipse cx="50" cy="50" rx="35" ry="45" fill="%233366FF" stroke="%232244DD" stroke-width="2"/><circle cx="50" cy="40" r="12" fill="black"/><circle cx="50" cy="40" r="5" fill="white"/><path d="M 40 70 L 60 70" stroke="black" stroke-width="3" fill="none"/></svg>'
            ];

            const zombieDesigns = [
                // Zombie 1 - Standard zombie
                '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="40" r="30" fill="%23707070" stroke="%23505050" stroke-width="2"/><circle cx="40" cy="30" r="5" fill="black"/><circle cx="60" cy="30" r="5" fill="black"/><rect x="35" y="45" width="30" height="10" fill="black"/><rect x="40" y="70" width="5" height="20" fill="%23505050"/><rect x="55" y="70" width="5" height="20" fill="%23505050"/></svg>',
                
                // Zombie 2 - Female zombie
                '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="40" r="25" fill="%23808080" stroke="%23606060" stroke-width="2"/><circle cx="40" cy="35" r="4" fill="black"/><circle cx="60" cy="35" r="4" fill="black"/><path d="M 40 50 Q 50 60 60 50" stroke="black" stroke-width="2" fill="none"/><rect x="45" y="70" width="10" height="25" fill="%23606060"/><path d="M 45 70 L 35 90 M 55 70 L 65 90" stroke="%23606060" stroke-width="3" fill="none"/></svg>',
                
                // Zombie 3 - Zombie with one arm
                '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="40" r="28" fill="%23666666" stroke="%23444444" stroke-width="2"/><circle cx="40" cy="35" r="5" fill="black"/><circle cx="60" cy="35" r="5" fill="black"/><rect x="40" y="50" width="20" height="8" fill="black"/><rect x="50" y="70" width="5" height="25" fill="%23444444"/><rect x="65" y="60" width="5" height="15" fill="%23444444"/></svg>',
                
                // Zombie 4 - Tall skinny zombie
                '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><ellipse cx="50" cy="35" rx="20" ry="25" fill="%235A5A5A" stroke="%233A3A3A" stroke-width="2"/><circle cx="45" cy="30" r="4" fill="black"/><circle cx="55" cy="30" r="4" fill="black"/><rect x="45" y="45" width="10" height="8" fill="black"/><rect x="45" y="65" width="5" height="30" fill="%233A3A3A"/><rect x="55" y="65" width="5" height="30" fill="%233A3A3A"/></svg>',
                
                // Zombie 5 - Fat zombie
                '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="50" r="35" fill="%23888888" stroke="%23666666" stroke-width="2"/><circle cx="40" cy="45" r="5" fill="black"/><circle cx="60" cy="45" r="5" fill="black"/><rect x="40" y="60" width="20" height="8" fill="black"/><rect x="40" y="75" width="6" height="20" fill="%23666666"/><rect x="55" y="75" width="6" height="20" fill="%23666666"/></svg>',
                
                // Zombie 6 - Zombie with mohawk
                '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="40" r="28" fill="%23999999" stroke="%23777777" stroke-width="2"/><path d="M 30 15 L 50 5 L 70 15" fill="%23777777"/><circle cx="40" cy="35" r="5" fill="black"/><circle cx="60" cy="35" r="5" fill="black"/><rect x="40" y="50" width="20" height="8" fill="black"/><rect x="40" y="70" width="5" height="25" fill="%23777777"/><rect x="55" y="70" width="5" height="25" fill="%23777777"/></svg>',
                
                // Zombie 7 - Zombie nurse
                '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="50" cy="40" r="25" fill="%23AAAAAA" stroke="%23888888" stroke-width="2"/><path d="M 45 20 L 55 20 L 55 25 L 50 30 L 45 25 Z" fill="white"/><circle cx="40" cy="35" r="4" fill="black"/><circle cx="60" cy="35" r="4" fill="black"/><rect x="45" y="50" width="10" height="8" fill="black"/><rect x="45" y="70" width="5" height="25" fill="%23888888"/><rect x="55" y="70" width="5" height="25" fill="%23888888"/></svg>'
            ];

            // Apply monster and zombie designs
            function applyDesigns() {
                // Apply monster designs
                for (let i = 1; i <= 3; i++) {
                    document.getElementById(`player1-monster${i}`).style.backgroundImage = `url('data:image/svg+xml;utf8,${monsterDesigns[i-1]}')`;
                    document.getElementById(`player2-monster${i}`).style.backgroundImage = `url('data:image/svg+xml;utf8,${monsterDesigns[i-1]}')`;
                }
                
                // Apply zombie designs
                for (let i = 1; i <= 7; i++) {
                    document.getElementById(`player1-zombie${i}`).style.backgroundImage = `url('data:image/svg+xml;utf8,${zombieDesigns[i-1]}')`;
                    document.getElementById(`player2-zombie${i}`).style.backgroundImage = `url('data:image/svg+xml;utf8,${zombieDesigns[i-1]}')`;
                }
            }

            // Timer function
            function startTimer() {
                clearInterval(gameState.timer);
                gameState.timeLeft = 15;
                timerDisplay.textContent = `Time left: ${gameState.timeLeft} seconds`;
                
                gameState.timer = setInterval(() => {
                    gameState.timeLeft--;
                    timerDisplay.textContent = `Time left: ${gameState.timeLeft} seconds`;
                    
                    if (gameState.timeLeft <= 0) {
                        clearInterval(gameState.timer);
                        questionText.textContent = "Time's up! You lose your turn.";
                        
                        // Switch turns after a delay
                        setTimeout(() => {
                            if(gameState.gameActive) {
                                gameState.currentPlayer = gameState.currentPlayer === 1 ? 2 : 1;
                                displayQuestion();
                            }
                        }, 2000);
                    }
                }, 1000);
            }

            // Generate a math question
            function generateQuestion() {
                const operations = ['+', '-', '*'];
                const operation = operations[Math.floor(Math.random() * operations.length)];
                
                let num1, num2, answer;
                
                switch(operation) {
                    case '+':
                        num1 = Math.floor(Math.random() * 50) + 1;
                        num2 = Math.floor(Math.random() * 50) + 1;
                        answer = num1 + num2;
                        break;
                    case '-':
                        num1 = Math.floor(Math.random() * 100) + 1;
                        num2 = Math.floor(Math.random() * num1) + 1;
                        answer = num1 - num2;
                        break;
                    case '*':
                        num1 = Math.floor(Math.random() * 12) + 1;
                        num2 = Math.floor(Math.random() * 12) + 1;
                        answer = num1 * num2;
                        break;
                }
                
                const question = `${num1} ${operation} ${num2}`;
                
                // Generate wrong answers
                const answers = [answer];
                while(answers.length < 4) {
                    let wrongAnswer;
                    if(operation === '*') {
                        wrongAnswer = Math.floor(Math.random() * 144) + 1;
                    } else {
                        wrongAnswer = Math.floor(Math.random() * 100) + 1;
                    }
                    
                    if(!answers.includes(wrongAnswer) && wrongAnswer !== answer) {
                        answers.push(wrongAnswer);
                    }
                }
                
                // Shuffle answers
                for(let i = answers.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [answers[i], answers[j]] = [answers[j], answers[i]];
                }
                
                return {
                    question: question,
                    answers: answers,
                    correctAnswer: answer
                };
            }

            // Update active player display
            function updateActivePlayer() {
                if (gameState.currentPlayer === 1) {
                    player1Info.classList.add('active-player');
                    player2Info.classList.remove('active-player');
                    turnMessage.textContent = "Player 1's Turn";
                } else {
                    player2Info.classList.add('active-player');
                    player1Info.classList.remove('active-player');
                    turnMessage.textContent = "Player 2's Turn";
                }
            }

            // Display question
            function displayQuestion() {
                updateActivePlayer();
                const questionData = generateQuestion();
                questionText.textContent = `Player ${gameState.currentPlayer}: What is ${questionData.question}?`;
                
                answerOptions.innerHTML = '';
                questionData.answers.forEach(answer => {
                    const button = document.createElement('button');
                    button.className = 'answer-btn';
                    button.textContent = answer;
                    button.addEventListener('click', function() {
                        clearInterval(gameState.timer);
                        checkAnswer(answer, questionData.correctAnswer);
                    });
                    answerOptions.appendChild(button);
                });
                
                // Start the timer
                startTimer();
            }

            // Check answer
            function checkAnswer(selectedAnswer, correctAnswer) {
                if(!gameState.gameActive) return;
                
                const buttons = document.querySelectorAll('.answer-btn');
                buttons.forEach(button => {
                    button.disabled = true;
                    if (parseInt(button.textContent) === correctAnswer) {
                        button.classList.add('correct');
                    } else if (parseInt(button.textContent) === parseInt(selectedAnswer)) {
                        button.classList.add('incorrect');
                    }
                });
                
                if(parseInt(selectedAnswer) === correctAnswer) {
                    // Correct answer
                    if(gameState.currentPlayer === 1) {
                        gameState.player1.rockets++;
                        player1Rockets.textContent = gameState.player1.rockets;
                    } else {
                        gameState.player2.rockets++;
                        player2Rockets.textContent = gameState.player2.rockets;
                    }
                    
                    fireBtn.disabled = false;
                    gameState.canFire = true;
                    questionText.textContent = `Correct! You earned a rocket. Click "Launch Rocket!" then aim and click in the opponent's area.`;
                } else {
                    // Wrong answer - lose turn
                    questionText.textContent = `Incorrect! The answer was ${correctAnswer}. You lose your turn.`;
                    
                    // Switch turns after a delay
                    setTimeout(() => {
                        if(gameState.gameActive) {
                            gameState.currentPlayer = gameState.currentPlayer === 1 ? 2 : 1;
                            displayQuestion();
                        }
                    }, 2000);
                }
            }

            // Fire rocket
            function fireRocket() {
                if(!gameState.canFire || !gameState.gameActive) return;
                
                fireBtn.disabled = true;
                gameState.canFire = false;
                
                // Set up rocket firing
                questionText.textContent = `Player ${gameState.currentPlayer}: Click in the opponent's area to aim your rocket!`;
                
                const opponentArea = gameState.currentPlayer === 1 ? 
                    document.querySelector('.player2-area') : 
                    document.querySelector('.player1-area');
                
                function aimRocket(e) {
                    if(!gameState.gameActive) return;
                    
                    const rect = opponentArea.getBoundingClientRect();
                    const x = e.clientX - rect.left;
                    const y = e.clientY - rect.top;
                    
                    // Launch rocket animation
                    launchRocket(x, y, opponentArea);
                    
                    // Remove event listener after firing
                    opponentArea.removeEventListener('click', aimRocket);
                }
                
                opponentArea.addEventListener('click', aimRocket);
            }

            // Launch rocket animation
            function launchRocket(targetX, targetY, targetArea) {
                const rocket = document.getElementById('rocket');
                
                // Position rocket at the bottom center of the current player's area
                const playerArea = gameState.currentPlayer === 1 ? 
                    document.querySelector('.player1-area') : 
                    document.querySelector('.player2-area');
                    
                const playerRect = playerArea.getBoundingClientRect();
                const startX = playerRect.width / 2;
                const startY = playerRect.height;
                
                // Set rocket position and make it visible
                rocket.style.left = `${startX - 10}px`;
                rocket.style.top = `${startY - 40}px`;
                rocket.style.display = 'block';
                
                // Calculate control point for bezier curve (creates arc)
                const controlX = (startX + targetX) / 2;
                const controlY = Math.min(startY, targetY) - 150;
                
                // Animate rocket along bezier curve
                let startTime = null;
                const duration = 1500; // ms
                
                function animateRocket(timestamp) {
                    if (!startTime) startTime = timestamp;
                    const elapsed = timestamp - startTime;
                    const progress = Math.min(elapsed / duration, 1);
                    
                    // Bezier curve calculation
                    const x = 
                        Math.pow(1 - progress, 2) * startX + 
                        2 * (1 - progress) * progress * controlX + 
                        Math.pow(progress, 2) * targetX;
                    
                    const y = 
                        Math.pow(1 - progress, 2) * startY + 
                        2 * (1 - progress) * progress * controlY + 
                        Math.pow(progress, 2) * targetY;
                    
                    // Update rocket position
                    rocket.style.left = `${x - 10}px`;
                    rocket.style.top = `${y - 40}px`;
                    
                    // Rotate rocket to follow trajectory
                    const angle = Math.atan2(
                        (Math.pow(1 - progress, 1) * (controlY - startY) + progress * (targetY - controlY)),
                        (Math.pow(1 - progress, 1) * (controlX - startX) + progress * (targetX - controlX))
                    );
                    rocket.style.transform = `rotate(${angle}rad)`;
                    
                    if (progress < 1) {
                        requestAnimationFrame(animateRocket);
                    } else {
                        // Rocket reached target
                        rocket.style.display = 'none';
                        checkHit(targetX, targetY, targetArea);
                    }
                }
                
                requestAnimationFrame(animateRocket);
            }

            // Check if rocket hit a target
            function checkHit(x, y, targetArea) {
                // Get all potential targets in the area
                const targets = targetArea.querySelectorAll('.base, .monster, .zombie');
                let hit = false;
                
                targets.forEach(target => {
                    if(target.style.visibility === 'hidden') return;
                    
                    const rect = target.getBoundingClientRect();
                    const areaRect = targetArea.getBoundingClientRect();
                    
                    // Convert target position relative to the area
                    const targetX = rect.left - areaRect.left + rect.width / 2;
                    const targetY = rect.top - areaRect.top + rect.height / 2;
                    
                    // Calculate distance between rocket impact and target center
                    const distance = Math.sqrt(Math.pow(x - targetX, 2) + Math.pow(y - targetY, 2));
                    
                    // If within hit radius
                    if(distance < 50) {
                        hit = true;
                        destroyTarget(target);
                    }
                });
                
                if(!hit) {
                    questionText.textContent = "Miss! The rocket didn't hit anything.";
                }
                
                // Switch turns after a delay
                setTimeout(() => {
                    if(gameState.gameActive) {
                        gameState.currentPlayer = gameState.currentPlayer === 1 ? 2 : 1;
                        displayQuestion();
                    }
                }, 2000);
            }

            // Destroy a target
            function destroyTarget(target) {
                // Create explosion effect
                const explosion = document.createElement('div');
                explosion.className = 'explosion';
                const rect = target.getBoundingClientRect();
                const areaRect = target.parentElement.getBoundingClientRect();
                
                explosion.style.left = `${rect.left - areaRect.left - 40}px`;
                explosion.style.top = `${rect.top - areaRect.top - 40}px`;
                target.parentElement.appendChild(explosion);
                
                // Animate explosion
                explosion.style.animation = 'explode 0.5s forwards';
                
                // Hide target after a delay
                setTimeout(() => {
                    target.style.visibility = 'hidden';
                    explosion.remove();
                    
                    // Update game state
                    const targetId = target.id;
                    const player = targetId.includes('player1') ? 'player1' : 'player2';
                    
                    if(targetId.includes('base')) {
                        gameState[player].base = false;
                        questionText.textContent = "Direct hit! Base destroyed!";
                    } else if(targetId.includes('monster')) {
                        const monsterIndex = parseInt(targetId.slice(-1)) - 1;
                        gameState[player].monsters[monsterIndex] = false;
                        questionText.textContent = "Direct hit! Monster destroyed!";
                    } else if(targetId.includes('zombie')) {
                        const zombieIndex = parseInt(targetId.slice(-1)) - 1;
                        gameState[player].zombies[zombieIndex] = false;
                        questionText.textContent = "Direct hit! Zombie destroyed!";
                    }
                    
                    // Check for win condition
                    checkWinCondition();
                }, 500);
            }

            // Check if a player has won
            function checkWinCondition() {
                const player1Destroyed = !gameState.player1.base && 
                                        gameState.player1.monsters.every(m => !m) && 
                                        gameState.player1.zombies.every(z => !z);
                
                const player2Destroyed = !gameState.player2.base && 
                                        gameState.player2.monsters.every(m => !m) && 
                                        gameState.player2.zombies.every(z => !z);
                
                if(player1Destroyed || player2Destroyed) {
                    gameState.gameActive = false;
                    clearInterval(gameState.timer);
                    
                    if(player1Destroyed && player2Destroyed) {
                        gameOverMessage.textContent = "It's a tie! Both bases were destroyed!";
                    } else if(player1Destroyed) {
                        gameOverMessage.textContent = "Player 2 wins!";
                    } else {
                        gameOverMessage.textContent = "Player 1 wins!";
                    }
                    
                    gameOver.style.display = 'flex';
                }
            }

            // Start a new game
            function newGame() {
                // Reset game state
                gameState.currentPlayer = 1;
                gameState.player1.rockets = 0;
                gameState.player1.base = true;
                gameState.player1.monsters = [true, true, true];
                gameState.player1.zombies = [true, true, true, true, true, true, true];
                
                gameState.player2.rockets = 0;
                gameState.player2.base = true;
                gameState.player2.monsters = [true, true, true];
                gameState.player2.zombies = [true, true, true, true, true, true, true];
                
                gameState.gameActive = true;
                gameState.canFire = false;
                
                // Update UI
                player1Rockets.textContent = '0';
                player2Rockets.textContent = '0';
                
                // Show all targets
                document.querySelectorAll('.base, .monster, .zombie').forEach(target => {
                    target.style.visibility = 'visible';
                });
                
                // Apply designs
                applyDesigns();
                
                // Hide game over screen
                gameOver.style.display = 'none';
                
                // Start with a question
                displayQuestion();
                
                // Disable fire button
                fireBtn.disabled = true;
            }

            // Event listeners
            fireBtn.addEventListener('click', fireRocket);
            newGameBtn.addEventListener('click', newGame);
            restartBtn.addEventListener('click', newGame);

            // Start the game
            newGame();
        });
    </script>
</body>
</html>